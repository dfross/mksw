import{r as l,s as r,t as a,u,v as _,w,x as g,y as W,z as H,A as N,B as C,C as b,D as R}from"./runtime-core.esm-bundler.C8SZUrae.js";/* empty css                       */const m=(o,i)=>{const e=o.__vccOpts||o;for(const[t,c]of i)e[t]=c;return e},B={name:"MenuIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},F=["aria-hidden","aria-label"],E=["fill","width","height"],P={d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},Z={key:0};function U(o,i,e,t,c,d){return l(),r("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon menu-icon",role:"img",onClick:i[0]||(i[0]=s=>o.$emit("click",s))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",P,[e.title?(l(),r("title",Z,u(e.title),1)):_("",!0)])],8,E))],16,F)}const D=m(B,[["render",U]]),j={name:"ShuffleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},T=["aria-hidden","aria-label"],q=["fill","width","height"],O={d:"M14.83,13.41L13.42,14.82L16.55,17.95L14.5,20H20V14.5L17.96,16.54L14.83,13.41M14.5,4L16.54,6.04L4,18.59L5.41,20L17.96,7.46L20,9.5V4M10.59,9.17L5.41,4L4,5.41L9.17,10.58L10.59,9.17Z"},K={key:0};function Y(o,i,e,t,c,d){return l(),r("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon shuffle-icon",role:"img",onClick:i[0]||(i[0]=s=>o.$emit("click",s))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",O,[e.title?(l(),r("title",K,u(e.title),1)):_("",!0)])],8,q))],16,T)}const G=m(j,[["render",Y]]),J={name:"ChevronRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Q=["aria-hidden","aria-label"],X=["fill","width","height"],$={d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},ee={key:0};function te(o,i,e,t,c,d){return l(),r("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon chevron-right-icon",role:"img",onClick:i[0]||(i[0]=s=>o.$emit("click",s))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",$,[e.title?(l(),r("title",ee,u(e.title),1)):_("",!0)])],8,X))],16,Q)}const ie=m(J,[["render",te]]),oe={name:"ChevronLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ne=["aria-hidden","aria-label"],le=["fill","width","height"],re={d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"},ae={key:0};function se(o,i,e,t,c,d){return l(),r("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon chevron-left-icon",role:"img",onClick:i[0]||(i[0]=s=>o.$emit("click",s))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",re,[e.title?(l(),r("title",ae,u(e.title),1)):_("",!0)])],8,le))],16,ne)}const ce=m(oe,[["render",se]]),de={name:"VolumeHighIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},he=["aria-hidden","aria-label"],ue=["fill","width","height"],fe={d:"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"},ge={key:0};function _e(o,i,e,t,c,d){return l(),r("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon volume-high-icon",role:"img",onClick:i[0]||(i[0]=s=>o.$emit("click",s))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",fe,[e.title?(l(),r("title",ge,u(e.title),1)):_("",!0)])],8,ue))],16,he)}const me=m(de,[["render",_e]]),ve={name:"MicrophoneIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},be=["aria-hidden","aria-label"],we=["fill","width","height"],ye={d:"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"},ke={key:0};function Ce(o,i,e,t,c,d){return l(),r("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon microphone-icon",role:"img",onClick:i[0]||(i[0]=s=>o.$emit("click",s))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",ye,[e.title?(l(),r("title",ke,u(e.title),1)):_("",!0)])],8,we))],16,be)}const Se=m(ve,[["render",Ce]]),Le={__name:"Flashcard",props:["words","set"],setup(o,{expose:i}){i();const e=o,t=g(0),c=g(!1),d=g(!1),s=g(!1),k=g(!1),y=g(!1),v=g("");let f;W(async()=>{s.value="speechSynthesis"in window,k.value="SpeechRecognition"in window||"webkitSpeechRecognition"in window;try{const n=await navigator.mediaDevices.getUserMedia({audio:!0});y.value=!0,n.getTracks().forEach(h=>h.stop())}catch(n){console.error("Microphone not available:",n),y.value=!1}if(k.value&&y.value){const n=window.SpeechRecognition||window.webkitSpeechRecognition;f=new n,f.continuous=!1,f.interimResults=!1,f.onresult=h=>{const A=h.results.length-1,V=h.results[A][0].transcript.trim().toLowerCase(),z=e.words[t.value].toLowerCase();V===z?v.value="Correct! Well done!":v.value=`Not quite. The word is "${z}". You said "${V}".`,d.value=!1},f.onerror=h=>{console.error("Speech recognition error:",h.error),d.value=!1,v.value="Sorry, I couldn't hear you. Please try again."},f.onend=()=>{d.value=!1}}window.addEventListener("keydown",S),window.addEventListener("setFlashcardWord",L)}),H(()=>{window.removeEventListener("keydown",S),window.removeEventListener("setFlashcardWord",L)}),N(t,()=>{v.value=""});const p=()=>{t.value<e.words.length-1&&t.value++},x=()=>{t.value>0&&t.value--},I=()=>{const n=Math.floor(Math.random()*e.words.length);t.value=n},S=n=>{n.key==="ArrowRight"||n.code==="Space"?p():n.key==="ArrowLeft"?x():(n.key==="r"||n.key==="R")&&I()},L=n=>{const h=n.detail.index;h>=0&&h<e.words.length&&(t.value=h)},M={props:e,currentIndex:t,isSpeaking:c,isListening:d,speechSupported:s,recognitionSupported:k,microphoneAvailable:y,feedback:v,get recognition(){return f},set recognition(n){f=n},nextWord:p,previousWord:x,selectRandomWord:I,handleKeydown:S,handleSetFlashcardWord:L,speakWord:()=>{if(!s.value){alert("Speech synthesis is not supported in your browser.");return}c.value&&window.speechSynthesis.cancel(),c.value=!0;const n=new SpeechSynthesisUtterance(e.words[t.value]);n.onend=()=>{c.value=!1},n.onerror=h=>{console.error("SpeechSynthesis error:",h),c.value=!1,alert("An error occurred while trying to speak the word.")},window.speechSynthesis.speak(n)},listenForWord:async()=>{if(!k.value){alert("Speech recognition is not supported in your browser.");return}if(!y.value){alert("No microphone detected or microphone access is denied.");return}try{await navigator.mediaDevices.getUserMedia({audio:!0}),v.value="",d.value=!0,f.start()}catch(n){console.error("Error accessing microphone:",n),alert("Unable to access the microphone. Please check your microphone settings and try again.")}},ref:g,onMounted:W,onUnmounted:H,watch:N,MenuIcon:D,ShuffleIcon:G,ChevronRightIcon:ie,ChevronLeftIcon:ce,VolumeHighIcon:me,MicrophoneIcon:Se};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}},pe={class:"flex flex-col items-center py-9"},xe={class:"text-7xl font-bold drop-shadow-md md:text-9xl","aria-live":"polite"},Ie={class:"absolute bottom-3 right-3","aria-live":"polite"},Me={key:1,class:"absolute right-3 top-3"},Ve={class:"flex w-full flex-col items-center justify-between gap-2 sm:flex-row"},ze={class:"flex gap-2"},We=["disabled"],He=["disabled"],Ne={class:"flex gap-2"},Re=["disabled","aria-label"],Ae=["disabled","aria-label"];function Be(o,i,e,t,c,d){return l(),r("div",pe,[a("div",{class:"relative mb-9 flex aspect-video w-full cursor-pointer items-center justify-center rounded-lg bg-gradient-to-b from-cyan-100 to-blue-100 text-blue-900 shadow-2xl",role:"region","aria-label":"Flashcard",onClick:t.listenForWord},[a("h2",xe,u(e.words[t.currentIndex]),1),t.feedback?(l(),r("div",{key:0,class:C(["absolute bottom-3 rounded-full border px-4 py-2 text-lg font-semibold",{"border-green-300 bg-green-100 text-green-700":t.feedback.includes("Correct"),"border-red-300 bg-red-100 text-red-700":t.feedback.includes("Not quite")}])},u(t.feedback),3)):_("",!0),a("small",Ie,u(t.currentIndex+1)+"/"+u(e.words.length),1),t.isListening?(l(),r("div",Me,[b(t.MicrophoneIcon,{class:C({"animate-pulse":t.isListening})},null,8,["class"])])):_("",!0)]),a("div",Ve,[a("div",ze,[a("button",{class:"button button-iconleft",onClick:t.previousWord,disabled:t.currentIndex===0,"aria-label":"Previous word"},[b(t.ChevronLeftIcon),i[0]||(i[0]=R(" Prev "))],8,We),a("button",{class:"button button-icononly",onClick:t.selectRandomWord,"aria-label":"Random word"},[b(t.ShuffleIcon)]),a("button",{class:"button button-iconright",onClick:t.nextWord,disabled:t.currentIndex===e.words.length-1,"aria-label":"Next word"},[i[1]||(i[1]=R(" Next ")),b(t.ChevronRightIcon)],8,He)]),a("div",Ne,[a("button",{class:"button button-icononly",onClick:t.speakWord,disabled:!t.speechSupported||t.isSpeaking,"aria-label":t.isSpeaking?"Speaking...":"Read word aloud"},[b(t.VolumeHighIcon,{class:C({"opacity-50":t.isSpeaking})},null,8,["class"])],8,Re),a("button",{class:"button button-icononly",onClick:t.listenForWord,disabled:!t.recognitionSupported||!t.microphoneAvailable||t.isListening,"aria-label":t.recognitionSupported?t.microphoneAvailable?t.isListening?"Listening...":"Listen for pronunciation":"Microphone not available":"Speech recognition not supported"},[b(t.MicrophoneIcon,{class:C({"animate-pulse":t.isListening,"opacity-50":!t.recognitionSupported||!t.microphoneAvailable})},null,8,["class"])],8,Ae)])])])}const Ue=m(Le,[["render",Be],["__scopeId","data-v-6d1f6dbe"]]);export{Ue as default};
