import{r as l,s as r,t as a,u as h,v as f,w as C,x as g,y as H,z as N,A as R,B as S,C as y,D as A}from"./runtime-core.esm-bundler.C8SZUrae.js";/* empty css                       */const _=(n,i)=>{const e=n.__vccOpts||n;for(const[t,c]of i)e[t]=c;return e},B={name:"MenuIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},E=["aria-hidden","aria-label"],P=["fill","width","height"],Z={d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},j={key:0};function D(n,i,e,t,c,d){return l(),r("span",C(n.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon menu-icon",role:"img",onClick:i[0]||(i[0]=o=>n.$emit("click",o))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",Z,[e.title?(l(),r("title",j,h(e.title),1)):f("",!0)])],8,P))],16,E)}const T=_(B,[["render",D]]),U={name:"ShuffleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},q=["aria-hidden","aria-label"],K=["fill","width","height"],O={d:"M14.83,13.41L13.42,14.82L16.55,17.95L14.5,20H20V14.5L17.96,16.54L14.83,13.41M14.5,4L16.54,6.04L4,18.59L5.41,20L17.96,7.46L20,9.5V4M10.59,9.17L5.41,4L4,5.41L9.17,10.58L10.59,9.17Z"},$={key:0};function Y(n,i,e,t,c,d){return l(),r("span",C(n.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon shuffle-icon",role:"img",onClick:i[0]||(i[0]=o=>n.$emit("click",o))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",O,[e.title?(l(),r("title",$,h(e.title),1)):f("",!0)])],8,K))],16,q)}const G=_(U,[["render",Y]]),J={name:"ChevronRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Q=["aria-hidden","aria-label"],X=["fill","width","height"],ee={d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},te={key:0};function ie(n,i,e,t,c,d){return l(),r("span",C(n.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon chevron-right-icon",role:"img",onClick:i[0]||(i[0]=o=>n.$emit("click",o))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",ee,[e.title?(l(),r("title",te,h(e.title),1)):f("",!0)])],8,X))],16,Q)}const ne=_(J,[["render",ie]]),oe={name:"ChevronLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},le=["aria-hidden","aria-label"],re=["fill","width","height"],ae={d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"},se={key:0};function ce(n,i,e,t,c,d){return l(),r("span",C(n.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon chevron-left-icon",role:"img",onClick:i[0]||(i[0]=o=>n.$emit("click",o))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",ae,[e.title?(l(),r("title",se,h(e.title),1)):f("",!0)])],8,re))],16,le)}const de=_(oe,[["render",ce]]),he={name:"VolumeHighIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ue=["aria-hidden","aria-label"],ge=["fill","width","height"],fe={d:"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"},me={key:0};function _e(n,i,e,t,c,d){return l(),r("span",C(n.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon volume-high-icon",role:"img",onClick:i[0]||(i[0]=o=>n.$emit("click",o))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",fe,[e.title?(l(),r("title",me,h(e.title),1)):f("",!0)])],8,ge))],16,ue)}const be=_(he,[["render",_e]]),ve={name:"MicrophoneIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},we=["aria-hidden","aria-label"],ye=["fill","width","height"],Ce={d:"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"},ke={key:0};function Le(n,i,e,t,c,d){return l(),r("span",C(n.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon microphone-icon",role:"img",onClick:i[0]||(i[0]=o=>n.$emit("click",o))}),[(l(),r("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[a("path",Ce,[e.title?(l(),r("title",ke,h(e.title),1)):f("",!0)])],8,ye))],16,we)}const pe=_(ve,[["render",Le]]),Se={__name:"Flashcard",props:["words","set"],emits:["wordChanged"],setup(n,{expose:i,emit:e}){i();const t=n,c=e,d=g(0),o=g(!1),b=g(!1),I=g(!1),k=g(!1),L=g(!1),v=g("");let u,w=null;H(async()=>{if(I.value="speechSynthesis"in window,k.value="SpeechRecognition"in window||"webkitSpeechRecognition"in window,k.value){const s=window.SpeechRecognition||window.webkitSpeechRecognition;u=new s,u.continuous=!1,u.interimResults=!1,u.onresult=p=>{const F=p.results.length-1,z=p.results[F][0].transcript.trim().toLowerCase(),W=t.words[d.value].toLowerCase();z===W?v.value="Correct! Well done!":v.value=`Not quite. The word is "${W}". You said "${z}".`,b.value=!1,m()},u.onerror=p=>{console.error("Speech recognition error:",p.error),b.value=!1,v.value="Sorry, I couldn't hear you. Please try again.",m()},u.onend=()=>{b.value=!1,m()}}window.addEventListener("keydown",handleKeydown),window.addEventListener("setFlashcardWord",handleSetFlashcardWord),document.addEventListener("visibilitychange",x)}),N(()=>{window.removeEventListener("keydown",handleKeydown),window.removeEventListener("setFlashcardWord",handleSetFlashcardWord),document.removeEventListener("visibilitychange",x),m()});const x=()=>{document.hidden&&m()},M=async()=>{try{w=await navigator.mediaDevices.getUserMedia({audio:!0}),L.value=!0}catch(s){console.error("Microphone not available:",s),L.value=!1}},m=()=>{w&&(w.getTracks().forEach(s=>s.stop()),w=null),b.value=!1};R(d,s=>{v.value="",c("wordChanged",s),m()});const V={props:t,emit:c,currentIndex:d,isSpeaking:o,isListening:b,speechSupported:I,recognitionSupported:k,microphoneAvailable:L,feedback:v,get recognition(){return u},set recognition(s){u=s},get microphoneStream(){return w},set microphoneStream(s){w=s},handleVisibilityChange:x,startMicrophone:M,stopMicrophone:m,listenForWord:async()=>{if(!k.value){alert("Speech recognition is not supported in your browser.");return}try{if(await M(),!L.value){alert("No microphone detected or microphone access is denied.");return}v.value="",b.value=!0,u.start()}catch(s){console.error("Error accessing microphone:",s),alert("Unable to access the microphone. Please check your microphone settings and try again.")}},ref:g,onMounted:H,onUnmounted:N,watch:R,MenuIcon:T,ShuffleIcon:G,ChevronRightIcon:ne,ChevronLeftIcon:de,VolumeHighIcon:be,MicrophoneIcon:pe};return Object.defineProperty(V,"__isScriptSetup",{enumerable:!1,value:!0}),V}},xe={class:"flex flex-col items-center py-9"},Ie={class:"text-7xl font-bold drop-shadow-md md:text-9xl","aria-live":"polite"},Me={class:"absolute bottom-3 right-3","aria-live":"polite"},Ve={key:1,class:"absolute right-3 top-3"},ze={class:"flex w-full flex-col items-center justify-between gap-2 sm:flex-row"},We={class:"flex gap-2"},He=["disabled"],Ne=["disabled"],Re={class:"flex gap-2"},Ae=["disabled","aria-label"],Fe=["disabled","aria-label"];function Be(n,i,e,t,c,d){return l(),r("div",xe,[a("div",{class:"relative mb-9 flex aspect-video w-full cursor-pointer items-center justify-center rounded-lg bg-gradient-to-b from-cyan-100 to-blue-100 text-blue-900 shadow-2xl",role:"region","aria-label":"Flashcard",onClick:t.listenForWord},[a("h2",Ie,h(e.words[t.currentIndex]),1),t.feedback?(l(),r("div",{key:0,class:S(["absolute bottom-3 rounded-full border px-4 py-2 text-lg font-semibold",{"border-green-300 bg-green-100 text-green-700":t.feedback.includes("Correct"),"border-red-300 bg-red-100 text-red-700":t.feedback.includes("Not quite")}])},h(t.feedback),3)):f("",!0),a("small",Me,h(t.currentIndex+1)+"/"+h(e.words.length),1),t.isListening?(l(),r("div",Ve,[y(t.MicrophoneIcon,{class:S({"animate-pulse":t.isListening})},null,8,["class"])])):f("",!0)]),a("div",ze,[a("div",We,[a("button",{class:"button button-iconleft",onClick:i[0]||(i[0]=(...o)=>n.previousWord&&n.previousWord(...o)),disabled:t.currentIndex===0,"aria-label":"Previous word"},[y(t.ChevronLeftIcon),i[4]||(i[4]=A(" Prev "))],8,He),a("button",{class:"button button-icononly",onClick:i[1]||(i[1]=(...o)=>n.selectRandomWord&&n.selectRandomWord(...o)),"aria-label":"Random word"},[y(t.ShuffleIcon)]),a("button",{class:"button button-iconright",onClick:i[2]||(i[2]=(...o)=>n.nextWord&&n.nextWord(...o)),disabled:t.currentIndex===e.words.length-1,"aria-label":"Next word"},[i[5]||(i[5]=A(" Next ")),y(t.ChevronRightIcon)],8,Ne)]),a("div",Re,[a("button",{class:"button button-icononly",onClick:i[3]||(i[3]=(...o)=>n.speakWord&&n.speakWord(...o)),disabled:!t.speechSupported||t.isSpeaking,"aria-label":t.isSpeaking?"Speaking...":"Read word aloud"},[y(t.VolumeHighIcon,{class:S({"opacity-50":t.isSpeaking})},null,8,["class"])],8,Ae),a("button",{class:"button button-icononly",onClick:t.listenForWord,disabled:!t.recognitionSupported||!t.microphoneAvailable||t.isListening,"aria-label":t.recognitionSupported?t.microphoneAvailable?t.isListening?"Listening...":"Listen for pronunciation":"Microphone not available":"Speech recognition not supported"},[y(t.MicrophoneIcon,{class:S({"animate-pulse":t.isListening,"opacity-50":!t.recognitionSupported||!t.microphoneAvailable})},null,8,["class"])],8,Fe)])])])}const je=_(Se,[["render",Be],["__scopeId","data-v-f38990ab"]]);export{je as default};
