import{o as s,b as l,e as c,t as g,f as m,m as w,r as f,g as P,i as F,w as Z,n as k,j as b,k as T,l as U}from"./runtime-dom.esm-bundler.B8VG26M-.js";/* empty css                       */const _=(o,i)=>{const e=o.__vccOpts||o;for(const[t,h]of i)e[t]=h;return e},q={name:"MenuIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},O=["aria-hidden","aria-label"],K=["fill","width","height"],Y={d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},G={key:0};function J(o,i,e,t,h,r){return s(),l("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon menu-icon",role:"img",onClick:i[0]||(i[0]=a=>o.$emit("click",a))}),[(s(),l("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[c("path",Y,[e.title?(s(),l("title",G,g(e.title),1)):m("",!0)])],8,K))],16,O)}const Q=_(q,[["render",J]]),X={name:"ShuffleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},$=["aria-hidden","aria-label"],ee=["fill","width","height"],te={d:"M14.83,13.41L13.42,14.82L16.55,17.95L14.5,20H20V14.5L17.96,16.54L14.83,13.41M14.5,4L16.54,6.04L4,18.59L5.41,20L17.96,7.46L20,9.5V4M10.59,9.17L5.41,4L4,5.41L9.17,10.58L10.59,9.17Z"},ie={key:0};function ne(o,i,e,t,h,r){return s(),l("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon shuffle-icon",role:"img",onClick:i[0]||(i[0]=a=>o.$emit("click",a))}),[(s(),l("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[c("path",te,[e.title?(s(),l("title",ie,g(e.title),1)):m("",!0)])],8,ee))],16,$)}const oe=_(X,[["render",ne]]),se={name:"ChevronRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},le=["aria-hidden","aria-label"],re=["fill","width","height"],ae={d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},ce={key:0};function de(o,i,e,t,h,r){return s(),l("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon chevron-right-icon",role:"img",onClick:i[0]||(i[0]=a=>o.$emit("click",a))}),[(s(),l("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[c("path",ae,[e.title?(s(),l("title",ce,g(e.title),1)):m("",!0)])],8,re))],16,le)}const he=_(se,[["render",de]]),ue={name:"ChevronLeftIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ge=["aria-hidden","aria-label"],fe=["fill","width","height"],me={d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"},_e={key:0};function ve(o,i,e,t,h,r){return s(),l("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon chevron-left-icon",role:"img",onClick:i[0]||(i[0]=a=>o.$emit("click",a))}),[(s(),l("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[c("path",me,[e.title?(s(),l("title",_e,g(e.title),1)):m("",!0)])],8,fe))],16,ge)}const be=_(ue,[["render",ve]]),we={name:"VolumeHighIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ye=["aria-hidden","aria-label"],ke=["fill","width","height"],pe={d:"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"},Le={key:0};function Ce(o,i,e,t,h,r){return s(),l("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon volume-high-icon",role:"img",onClick:i[0]||(i[0]=a=>o.$emit("click",a))}),[(s(),l("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[c("path",pe,[e.title?(s(),l("title",Le,g(e.title),1)):m("",!0)])],8,ke))],16,ye)}const Se=_(we,[["render",Ce]]),xe={name:"MicrophoneIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Me=["aria-hidden","aria-label"],Ie=["fill","width","height"],Ve={d:"M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"},ze={key:0};function Re(o,i,e,t,h,r){return s(),l("span",w(o.$attrs,{"aria-hidden":e.title?null:!0,"aria-label":e.title,class:"material-design-icon microphone-icon",role:"img",onClick:i[0]||(i[0]=a=>o.$emit("click",a))}),[(s(),l("svg",{fill:e.fillColor,class:"material-design-icon__svg",width:e.size,height:e.size,viewBox:"0 0 24 24"},[c("path",Ve,[e.title?(s(),l("title",ze,g(e.title),1)):m("",!0)])],8,Ie))],16,Me)}const He=_(xe,[["render",Re]]),Ne={__name:"Flashcard",props:["words","set"],emits:["wordChanged"],setup(o,{expose:i,emit:e}){i();const t=o,h=e,r=f(0),a=f(!1),p=f(!1),L=f(!1),y=f(!1),C=f(!1),v=f("");let u;const z=()=>{if(y.value){const n=window.SpeechRecognition||window.webkitSpeechRecognition;u=new n,u.continuous=!1,u.interimResults=!0,u.onresult=d=>{const D=d.results.length-1,B=d.results[D][0].transcript.trim().toLowerCase(),E=t.words[r.value].toLowerCase();B===E?v.value="Correct! Well done!":v.value=`Not quite. The word is "${E}". You said "${B}".`},u.onerror=d=>{console.error("Speech recognition error:",d.error),v.value="Sorry, I couldn't hear you. Please try again.",M()}}},R=async()=>{try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(d=>d.stop()),C.value=!0}catch(n){console.error("Microphone permission denied:",n),C.value=!1,alert("Please grant microphone permission to use this feature.")}},S=()=>{M()},x=()=>{(document.hidden||document.visibilityState==="hidden")&&S()};P(()=>{L.value="speechSynthesis"in window,y.value="SpeechRecognition"in window||"webkitSpeechRecognition"in window,z(),R(),window.addEventListener("keydown",I),window.addEventListener("setFlashcardWord",V),document.addEventListener("visibilitychange",x)}),F(()=>{window.removeEventListener("keydown",I),window.removeEventListener("setFlashcardWord",V),document.removeEventListener("visibilitychange",x),S()});const j=async()=>{if(!y.value){alert("Speech recognition is not supported in your browser.");return}try{await navigator.mediaDevices.getUserMedia({audio:!0}),v.value="",p.value=!0,u.start()}catch(n){console.error("Error accessing microphone:",n),alert("Unable to access the microphone. Please check your microphone settings and try again.")}},M=()=>{u&&u.stop(),p.value=!1};Z(r,n=>{v.value="",h("wordChanged",n)});const H=()=>{r.value<t.words.length-1&&r.value++},N=()=>{r.value>0&&r.value--},W=()=>{const n=Math.floor(Math.random()*t.words.length);r.value=n},I=n=>{n.key==="ArrowRight"||n.code==="Space"?H():n.key==="ArrowLeft"?N():(n.key==="r"||n.key==="R")&&W()},V=n=>{const d=n.detail.index;d>=0&&d<t.words.length&&(r.value=d)},A={props:t,emit:h,currentIndex:r,isSpeaking:a,isListening:p,speechSupported:L,recognitionSupported:y,microphoneAvailable:C,feedback:v,get recognition(){return u},set recognition(n){u=n},initializeSpeechRecognition:z,checkMicrophonePermission:R,cleanup:S,handleVisibilityChange:x,startListening:j,stopListening:M,nextWord:H,previousWord:N,selectRandomWord:W,handleKeydown:I,handleSetFlashcardWord:V,speakWord:()=>{if(!L.value){alert("Speech synthesis is not supported in your browser.");return}a.value&&window.speechSynthesis.cancel(),a.value=!0;const n=new SpeechSynthesisUtterance(t.words[r.value]);n.onend=()=>{a.value=!1},n.onerror=d=>{console.error("SpeechSynthesis error:",d),a.value=!1,alert("An error occurred while trying to speak the word.")},window.speechSynthesis.speak(n)},ref:f,onMounted:P,onUnmounted:F,watch:Z,MenuIcon:Q,ShuffleIcon:oe,ChevronRightIcon:he,ChevronLeftIcon:be,VolumeHighIcon:Se,MicrophoneIcon:He};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}},We={class:"flex flex-col items-center pt-9"},Ae={class:"relative mb-9 flex h-[33vh] max-h-[500px] w-full cursor-pointer items-center justify-center rounded-lg bg-gradient-to-b from-cyan-100 to-blue-100 text-blue-900 shadow-2xl sm:h-[50vh]",role:"region","aria-label":"Flashcard"},Be={class:"text-7xl font-bold drop-shadow-md md:text-9xl","aria-live":"polite"},Ee={class:"absolute bottom-3 right-3","aria-live":"polite"},Pe={key:1,class:"absolute right-3 top-3"},Fe={class:"flex w-full flex-col items-center justify-between gap-2 sm:flex-row"},Ze={class:"flex gap-2"},Te=["disabled"],Ue=["disabled"],je={class:"flex gap-2"},De=["disabled","aria-label"],qe=["disabled","aria-label"];function Oe(o,i,e,t,h,r){return s(),l("div",We,[c("div",Ae,[c("h2",Be,g(e.words[t.currentIndex]),1),t.feedback?(s(),l("div",{key:0,class:k(["absolute bottom-3 rounded-full border px-4 py-2 font-semibold",{"border-green-300 bg-green-100 text-green-700":t.feedback.includes("Correct"),"border-red-300 bg-red-100 text-red-700":t.feedback.includes("Not quite")}])},g(t.feedback),3)):m("",!0),c("small",Ee,g(t.currentIndex+1)+"/"+g(e.words.length),1),t.isListening?(s(),l("div",Pe,[b(t.MicrophoneIcon,{class:k({"animate-pulse":t.isListening})},null,8,["class"])])):m("",!0)]),c("div",Fe,[c("div",Ze,[c("button",{class:"button button-iconleft",onClick:t.previousWord,disabled:t.currentIndex===0,"aria-label":"Previous word"},[b(t.ChevronLeftIcon),i[0]||(i[0]=T(" Prev "))],8,Te),c("button",{class:"button button-icononly",onClick:t.selectRandomWord,"aria-label":"Random word"},[b(t.ShuffleIcon)]),c("button",{class:"button button-iconright",onClick:t.nextWord,disabled:t.currentIndex===e.words.length-1,"aria-label":"Next word"},[i[1]||(i[1]=T(" Next ")),b(t.ChevronRightIcon)],8,Ue)]),c("div",je,[c("button",{class:"button button-icononly",onClick:t.speakWord,disabled:!t.speechSupported||t.isSpeaking,"aria-label":t.isSpeaking?"Speaking...":"Read word aloud"},[b(t.VolumeHighIcon,{class:k({"opacity-50":t.isSpeaking})},null,8,["class"])],8,De),c("button",{class:"button button-icononly",onMousedown:t.startListening,onMouseup:t.stopListening,onMouseleave:t.stopListening,onTouchstart:U(t.startListening,["prevent"]),onTouchend:U(t.stopListening,["prevent"]),disabled:!t.recognitionSupported||!t.microphoneAvailable,"aria-label":t.recognitionSupported?t.microphoneAvailable?t.isListening?"Listening...":"Press and hold to listen":"Microphone not available":"Speech recognition not supported"},[b(t.MicrophoneIcon,{class:k({"animate-pulse":t.isListening,"opacity-50":!t.recognitionSupported||!t.microphoneAvailable})},null,8,["class"])],40,qe)])])])}const Je=_(Ne,[["render",Oe],["__scopeId","data-v-ef5f794b"]]);export{Je as default};
